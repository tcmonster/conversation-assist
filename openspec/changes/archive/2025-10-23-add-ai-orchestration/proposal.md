## Why
- 现有会话流程缺乏真实的 AI 调用路径,原始消息无法触发翻译/解析,回复生成依赖手动输入,与产品“翻译→意图→生成”主旅程不符。
- 控制面板仍使用静态示例数据,无法与设置面板维护的参考信息/引用文本联动,用户无法预览实际注入 AI 的上下文。
- 缺少统一的 prompt 组合层与 JSON schema,后续难以针对不同模型扩展或调试 prompt 片段。

## What Changes
- 封装 prompt 组合模块,按系统角色、参考信息、引用文本、语气、历史消息、回复语言、用户意图等字段输出约定 JSON 结构,供翻译与回复任务共用。
- 实现翻译/解析与回复生成的 AI 工作流: 从消息触发器收集上下文→生成 prompt→调用统一 AI Client→回写翻译/解析/回复草稿。
- 接通设置状态,让控制面板展示真实参考信息与引用信息,支持勾选项写入会话上下文并在 Prompt 预览 Modal 中展示最终 JSON。
- 为会话记录补充所需的语言/语气/上下文选择状态,以便跨轮次保持一致的 AI 输出语言与风格。

## Impact
- State: 扩展 Conversation store 持久化选中语料、目标语言、语气设置,并新增 prompt 组合/AI 调用的专用状态或 hooks。
- UI: 更新控制面板改用真实数据、提供 Prompt 预览 Modal,并在消息/意图操作中触发 AI 请求和状态反馈。
- Tech: 新增 prompt 目录与组合器、AI Client 抽象与错误处理、公用类型定义; 需要为本地开发提供 mock/延迟模拟。
- Testing: 补充 prompt 组合与 AI 调用的单元测试,并为控制面板 Selection ↔ Prompt 预览链路编写集成用例。
